
<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Validation &#8212; ElectroSim Documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!--
    this give us a css class that will be invisible only if js is disabled
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=8f2a1f02" />
  
  <!-- So that users can add custom icons -->
  <script src="../_static/scripts/fontawesome.js?digest=8878045cc6db502f8baf"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf" />

    <script src="../_static/documentation_options.js?v=8d563738"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'developer_guide/validation';</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Web Integration (Pyodide + pygame-ce)" href="web_integration.html" />
    <link rel="prev" title="Performance Notes" href="performance.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="1.0" />
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
<div class="bd-header__inner bd-page-width">
  <button class="pst-navbar-icon sidebar-toggle primary-toggle" aria-label="Site navigation">
    <span class="fa-solid fa-bars"></span>
  </button>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">

  
    
  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
  
  
    <p class="title logo__title">ElectroSim Documentation</p>
  
</a></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="../getting_started.html">
    Getting Started
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../user_guide/running.html">
    Running the Simulation
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../user_guide/controls.html">
    Controls
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../user_guide/visualization.html">
    Visualization
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../user_guide/configuration.html">
    Configuration
  </a>
</li>

            <li class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button"
                data-bs-toggle="dropdown" aria-expanded="false"
                aria-controls="pst-nav-more-links">
                    More
                </button>
                <ul id="pst-nav-more-links" class="dropdown-menu">
                    
<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="../user_guide/web.html">
    Running ElectroSim on the Web
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="architecture.html">
    Architecture
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="physics_overview.html">
    Physics Overview
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="performance.html">
    Performance Notes
  </a>
</li>


<li class=" current active">
  <a class="nav-link dropdown-item nav-internal" href="#">
    Validation
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="web_integration.html">
    Web Integration (Pyodide + pygame-ce)
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="../api/index.html">
    API Reference
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="../math/coulomb_periodic.html">
    Coulomb Force with Periodic Boundary Conditions
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="../math/plummer_softening.html">
    Plummer-like Softening
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="../math/rk4_derivation.html">
    RK4 Derivation
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="../math/elastic_collision_impulse.html">
    Elastic Collision Impulse
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="../math/potential_energy_modeling.html">
    Potential Energy Modeling
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="../math/field_visualization_mapping.html">
    Field Visualization Mapping
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="../annotated/simulation_physics.html">
    Annotated: electrosim.simulation.physics
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="../annotated/simulation_engine.html">
    Annotated: electrosim.simulation.engine
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="../annotated/rendering_primitives.html">
    Annotated: electrosim.rendering.primitives
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="../annotated/rendering_field.html">
    Annotated: electrosim.rendering.field
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="../annotated/rendering_field_sampler.html">
    Annotated: electrosim.rendering.field_sampler
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="../annotated/rendering_particles.html">
    Annotated: electrosim.rendering.particles
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="../annotated/rendering_trails.html">
    Annotated: electrosim.rendering.trails
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="../annotated/rendering_overlay.html">
    Annotated: electrosim.rendering.overlay
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="../annotated/ui_controls.html">
    Annotated: electrosim.ui.controls
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="../annotated/main.html">
    Annotated: main.py
  </a>
</li>

                </ul>
            </li>
            
  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
        </div>
      
      
        <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
    </div>
  

  
    <button class="pst-navbar-icon sidebar-toggle secondary-toggle" aria-label="On this page">
      <span class="fa-solid fa-outdent"></span>
    </button>
  
</div>

    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          
          
            <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="../getting_started.html">
    Getting Started
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../user_guide/running.html">
    Running the Simulation
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../user_guide/controls.html">
    Controls
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../user_guide/visualization.html">
    Visualization
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../user_guide/configuration.html">
    Configuration
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../user_guide/web.html">
    Running ElectroSim on the Web
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="architecture.html">
    Architecture
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="physics_overview.html">
    Physics Overview
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="performance.html">
    Performance Notes
  </a>
</li>


<li class="nav-item current active">
  <a class="nav-link nav-internal" href="#">
    Validation
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="web_integration.html">
    Web Integration (Pyodide + pygame-ce)
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../api/index.html">
    API Reference
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../math/coulomb_periodic.html">
    Coulomb Force with Periodic Boundary Conditions
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../math/plummer_softening.html">
    Plummer-like Softening
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../math/rk4_derivation.html">
    RK4 Derivation
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../math/elastic_collision_impulse.html">
    Elastic Collision Impulse
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../math/potential_energy_modeling.html">
    Potential Energy Modeling
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../math/field_visualization_mapping.html">
    Field Visualization Mapping
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../annotated/simulation_physics.html">
    Annotated: electrosim.simulation.physics
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../annotated/simulation_engine.html">
    Annotated: electrosim.simulation.engine
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../annotated/rendering_primitives.html">
    Annotated: electrosim.rendering.primitives
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../annotated/rendering_field.html">
    Annotated: electrosim.rendering.field
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../annotated/rendering_field_sampler.html">
    Annotated: electrosim.rendering.field_sampler
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../annotated/rendering_particles.html">
    Annotated: electrosim.rendering.particles
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../annotated/rendering_trails.html">
    Annotated: electrosim.rendering.trails
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../annotated/rendering_overlay.html">
    Annotated: electrosim.rendering.overlay
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../annotated/ui_controls.html">
    Annotated: electrosim.ui.controls
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../annotated/main.html">
    Annotated: main.py
  </a>
</li>

  </ul>
</nav></div>
          
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
<nav class="bd-docs-nav bd-links"
     aria-label="Section Navigation">
  <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p>
  <div class="bd-toc-item navbar-nav"></div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
      <div class="sidebar-primary-item">
<div id="ethical-ad-placement"
      class="flat"
      data-ea-publisher="readthedocs"
      data-ea-type="readthedocs-sidebar"
      data-ea-manual="true">
</div></div>
  </div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">

<nav aria-label="Breadcrumb" class="d-print-none">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    <li class="breadcrumb-item active" aria-current="page"><span class="ellipsis">Validation</span></li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="validation">
<h1>Validation<a class="headerlink" href="#validation" title="Link to this heading">#</a></h1>
<p>ElectroSim ships with an interactive validation harness that compares the
numerical integrator against the analytical solution for a particle in a
uniform electric field. Use it to confirm that physics changes or performance
optimisations have not introduced regressions.</p>
<section id="uniform-field-scenario">
<h2>Uniform Field Scenario<a class="headerlink" href="#uniform-field-scenario" title="Link to this heading">#</a></h2>
<p>The built-in scenario accelerates a single charged particle with a constant
field vector configured via <code class="docutils literal notranslate"><span class="pre">UNIFORM_FIELD_VECTOR_NC</span></code> in
<code class="docutils literal notranslate"><span class="pre">electrosim/config.py</span></code>. When active, the simulation:</p>
<ul class="simple">
<li><p>Clears the scene and spawns one particle at world centre with
<code class="docutils literal notranslate"><span class="pre">DEFAULT_CHARGE_C</span></code>, <code class="docutils literal notranslate"><span class="pre">DEFAULT_MASS_KG</span></code>, and <code class="docutils literal notranslate"><span class="pre">DEFAULT_RADIUS_M</span></code>.</p></li>
<li><p>Enables the uniform field contribution for both forces and field
visualisation via <code class="docutils literal notranslate"><span class="pre">UNIFORM_FIELD_ACTIVE</span> <span class="pre">=</span> <span class="pre">True</span></code> and
<code class="docutils literal notranslate"><span class="pre">UNIFORM_FIELD_VISUAL_OVERRIDE</span> <span class="pre">=</span> <span class="pre">True</span></code>.</p></li>
<li><p>Tracks the analytical trajectory <span class="math notranslate nohighlight">\(x(t) = x_0 + v_0 t + \tfrac{1}{2} a t^2\)</span>
where <span class="math notranslate nohighlight">\(a = (q/m)E\)</span> for comparison against the numerically integrated state.</p></li>
<li><p>Samples the theoretical path at the display cadence (1/<code class="docutils literal notranslate"><span class="pre">FPS_TARGET</span></code>) so it
can be drawn as a yellow guideline (<code class="docutils literal notranslate"><span class="pre">COLOR_THEORY_TRAJECTORY</span></code>).</p></li>
</ul>
<p>The default duration is <code class="docutils literal notranslate"><span class="pre">VALIDATION_DURATION_S</span> <span class="pre">=</span> <span class="pre">10.0</span></code>. After reaching the end
time, the simulation auto-pauses and prints a summary of the final position and
velocity error to stdout for easy logging.</p>
</section>
<section id="how-to-run-it">
<h2>How to Run It<a class="headerlink" href="#how-to-run-it" title="Link to this heading">#</a></h2>
<ol class="arabic simple">
<li><p>Launch the desktop build: <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">main.py</span></code>.</p></li>
<li><p>Press <code class="docutils literal notranslate"><span class="pre">U</span></code> (see <code class="docutils literal notranslate"><span class="pre">docs/user_guide/controls.md</span></code>). The current scene is replaced
with the uniform-field setup and validation begins immediately.</p></li>
<li><p>Observe the overlay and trajectory while the timer counts up to
<code class="docutils literal notranslate"><span class="pre">VALIDATION_DURATION_S</span></code>.</p></li>
<li><p>Inspect the console output when the run completes. The final state is kept
on screen so you can inspect the particle visually.</p></li>
</ol>
<p>To exit validation mode, either press <code class="docutils literal notranslate"><span class="pre">R</span></code> to reset to the default scene,
<code class="docutils literal notranslate"><span class="pre">C</span></code> to clear all particles, or simply close the window. Calling
<code class="docutils literal notranslate"><span class="pre">Simulation.stop_validation()</span></code> from code also restores configuration defaults
(<code class="docutils literal notranslate"><span class="pre">UNIFORM_FIELD_ACTIVE</span> <span class="pre">=</span> <span class="pre">False</span></code>, <code class="docutils literal notranslate"><span class="pre">UNIFORM_FIELD_VISUAL_OVERRIDE</span> <span class="pre">=</span> <span class="pre">False</span></code>).</p>
</section>
<section id="reading-the-overlay">
<h2>Reading the Overlay<a class="headerlink" href="#reading-the-overlay" title="Link to this heading">#</a></h2>
<p>While validation is active, the overlay (rendered by
<a class="reference internal" href="../api/_autosummary/electrosim.rendering.overlay.html#module-electrosim.rendering.overlay" title="electrosim.rendering.overlay"><code class="xref py py-mod docutils literal notranslate"><span class="pre">electrosim.rendering.overlay</span></code></a>) displays an additional section:</p>
<ul class="simple">
<li><p><strong>E</strong>: The configured uniform field vector in N/C.</p></li>
<li><p><strong>a</strong>: Acceleration derived from <span class="math notranslate nohighlight">\((q/m)E\)</span> using the active particle mass and
charge.</p></li>
<li><p><strong>t</strong> and <strong>dt</strong>: Current validation time and integrator step.</p></li>
<li><p><strong>|pos_err|</strong> and <strong>|vel_err|</strong>: Euclidean error between analytical and
simulated position/velocity with periodic wrapping applied.</p></li>
<li><p>Final theoretical vs simulated position/velocity once
<code class="docutils literal notranslate"><span class="pre">VALIDATION_DURATION_S</span></code> has elapsed.</p></li>
</ul>
<p>The yellow line rendered in <code class="docutils literal notranslate"><span class="pre">main.py</span></code> uses <code class="docutils literal notranslate"><span class="pre">validation_theory_traj</span></code> to plot the
analytical solution. This makes divergence visually obvious even before the
numeric error grows large.</p>
</section>
<section id="customising-the-scenario">
<h2>Customising the Scenario<a class="headerlink" href="#customising-the-scenario" title="Link to this heading">#</a></h2>
<p>All relevant knobs live in <code class="docutils literal notranslate"><span class="pre">electrosim/config.py</span></code>:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">UNIFORM_FIELD_VECTOR_NC</span></code>: Change the acceleration direction/magnitude.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">DEFAULT_CHARGE_C</span></code>, <code class="docutils literal notranslate"><span class="pre">DEFAULT_MASS_KG</span></code>: Alter particle properties to stress
different regimes.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">VALIDATION_DURATION_S</span></code>: Adjust the run length. Longer runs reveal accumulated
integration error but increase execution time.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">FPS_TARGET</span></code> and <code class="docutils literal notranslate"><span class="pre">SUBSTEPS_BASE_PER_FRAME</span></code>: Increase to reduce local truncation
error at the cost of runtime.</p></li>
</ul>
<p>Because the harness operates on the full simulation stack, you can experiment
with alternative integrators or force kernels simply by modifying the regular
code paths. The validation overlay will pick up the results automatically via
the <code class="docutils literal notranslate"><span class="pre">Simulation.validation_*</span></code> fields.</p>
</section>
<section id="automating-from-code">
<h2>Automating from Code<a class="headerlink" href="#automating-from-code" title="Link to this heading">#</a></h2>
<p>If you need to trigger validation from tests or scripts, import the simulation
engine and call <a class="reference internal" href="../api/_autosummary/electrosim.simulation.engine.html#electrosim.simulation.engine.Simulation.start_uniform_field_validation" title="electrosim.simulation.engine.Simulation.start_uniform_field_validation"><code class="xref py py-meth docutils literal notranslate"><span class="pre">electrosim.simulation.engine.Simulation.start_uniform_field_validation()</span></code></a>.
During the run, increment frames as usual with <code class="xref py py-meth docutils literal notranslate"><span class="pre">Simulation.step_frame()</span></code>.
After completion, inspect <code class="docutils literal notranslate"><span class="pre">validation_current_errors</span></code> or the stored final
vectors (<code class="docutils literal notranslate"><span class="pre">validation_final_theory_pos_m</span></code>, <code class="docutils literal notranslate"><span class="pre">validation_final_sim_pos_m</span></code>, etc.)
for assertions. Remember to call <code class="xref py py-meth docutils literal notranslate"><span class="pre">Simulation.stop_validation()</span></code> to reset the
global config flags when you are done.</p>
</section>
</section>


                </article>
              
              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="performance.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Performance Notes</p>
      </div>
    </a>
    <a class="right-next"
       href="web_integration.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Web Integration (Pyodide + pygame-ce)</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#uniform-field-scenario">Uniform Field Scenario</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#how-to-run-it">How to Run It</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#reading-the-overlay">Reading the Overlay</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#customising-the-scenario">Customising the Scenario</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#automating-from-code">Automating from Code</a></li>
</ul>
  </nav></div>

  <div class="sidebar-secondary-item">
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/developer_guide/validation.md.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf"></script>
<script defer src="../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">

  <p class="copyright">
    
      Â© Copyright 2025, Danny Luna.
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">

  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.2.3.
    <br/>
  </p>
</div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item">
<p class="theme-version">
  <!-- # L10n: Setting the PST URL as an argument as this does not need to be localized -->
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.16.1.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>